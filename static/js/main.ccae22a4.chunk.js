(this["webpackJsonpreact-starter-pack"]=this["webpackJsonpreact-starter-pack"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(1),a=c.n(o),l=c(4),r=c.n(l),i=(c(10),c(11),c(12),c(2)),s=a.a.memo((function(e){var t=e.onCreateTodo,c=Object(o.useState)(""),a=Object(i.a)(c,2),l=a[0],r=a[1];return Object(n.jsx)("form",{action:"#",onSubmit:function(e){e.preventDefault(),l&&t(l),r("")},children:Object(n.jsx)("input",{type:"text",className:"new-todo","data-cy":"createTodo",placeholder:"What needs to be done?",value:l,onChange:function(e){r(e.target.value)}})})})),d=a.a.memo((function(e){var t=e.todo,c=e.changeTodo,a=e.removeTodo,l=Object(o.useState)(t.completed),r=Object(i.a)(l,2),s=r[0],d=r[1],u=Object(o.useState)(!1),j=Object(i.a)(u,2),b=j[0],f=j[1],m=Object(o.useState)(t.title),h=Object(i.a)(m,2),O=h[0],p=h[1];return Object(o.useEffect)((function(){return d(t.completed)}),[t.completed]),Object(n.jsx)("li",{className:"".concat(s&&"completed"," ").concat(b&&"editing"),children:b?Object(n.jsx)("input",{type:"text",className:"edit",id:"editTodo",value:O,onChange:function(e){p(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(e.target.value?(c(t.id,{title:O}),f(!1)):a(t.id)),"Escape"===e.key&&(e.preventDefault(),f(!1))},onBlur:function(e){e.target.value?(c(t.id,{title:O}),f(!1)):a(t.id)}}):Object(n.jsxs)("div",{onDoubleClick:function(){return f(!0)},children:[Object(n.jsx)("input",{type:"checkbox",checked:t.completed,className:"toggle",id:t.id,onClick:function(e){d(e.target.checked),c(t.id,{completed:e.target.checked})}}),Object(n.jsx)("label",{children:t.title}),Object(n.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return a(t.id)}})]})})})),u=a.a.memo((function(e){var t=e.items,c=e.changeAllCompleted,o=e.changeTodo,l=e.removeTodo,r=e.checkedAllCompleted;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:r,onClick:function(e){c(e.target.checked)}}),Object(n.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(n.jsx)("ul",{"data-cy":"todoList",className:"todo-list",children:t.map((function(e){return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(d,{todo:e,removeTodo:l,changeTodo:o})},e.id)}))})]})})),j=function(e){var t=e.removeCompleted,c=e.hiddenBtnDeleteCompleted,a=e.countUncompleted,l=e.filterActive,r=e.filterCompleted,s=e.filterAll,d=Object(o.useState)("all"),u=Object(i.a)(d,2),j=u[0],b=u[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(a," items left")}),Object(n.jsxs)("ul",{className:"filters",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/",className:"".concat("all"===j&&"selected"),onClick:function(e){e.preventDefault(),b("all"),s()},children:"All"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/active",className:"".concat("active"===j&&"selected"),onClick:function(e){e.preventDefault(),b("active"),l()},children:"Active"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/completed",className:"".concat("completed"===j&&"selected"),onClick:function(e){e.preventDefault(),b("completed"),r()},children:"Completed"})})]}),c&&Object(n.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return t()},children:"Clear completed"})]})},b=function(e,t){return fetch("https://mate.academy/students-api".concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status,"-").concat(e.statusText));return e.json()}))};var f=function(){var e=Object(o.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],l=Object(o.useState)(""),r=Object(i.a)(l,2),d=(r[0],r[1],Object(o.useState)(!1)),f=Object(i.a)(d,2),m=f[0],h=f[1],O=Object(o.useState)(!1),p=Object(i.a)(O,2),x=p[0],C=p[1],v=Object(o.useState)(!1),g=Object(i.a)(v,2),k=g[0],y=g[1],N=Object(o.useState)(!1),T=Object(i.a)(N,2),S=T[0],A=T[1],E=Object(o.useState)(0),D=Object(i.a)(E,2),w=D[0],F=D[1],U=Object(o.useState)(3860),B=Object(i.a)(U,1)[0];Object(o.useEffect)((function(){y(c.every((function(e){return e.completed}))),A(c.some((function(e){return e.completed}))),F(c.reduce((function(e,t){var c=e;return t.completed?c:c+=1}),0))}),[c]);var I=Object(o.useCallback)((function(){h(!0),C(!1)})),J=Object(o.useCallback)((function(){h(!1),C(!0)})),M=Object(o.useCallback)((function(){h(!1),C(!1)})),L=Object(o.useMemo)((function(){switch(!0){case m:return c.filter((function(e){return!e.completed}));case x:return c.filter((function(e){return e.completed}));default:return c}}),[m,x,c]),P=Object(o.useCallback)((function(){var e;(e=B,b("/todos?userId=".concat(e))).then((function(e){a(e)}))}),[]),H=Object(o.useCallback)((function(e){c.length>0&&c.forEach((function(t){K(t.id,{completed:e})}))}),[c]),K=Object(o.useCallback)((function(e,t){var c,n;(c=e,n=t,b("/todos/".concat(c),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).then((function(){return P()}))}),[]),W=Object(o.useCallback)((function(e){(function(e,t){return b("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:e,userId:t,completed:!1})})})(e,B).then((function(){return P()}))}),[]),q=Object(o.useCallback)((function(e){(function(e){return b("/todos/".concat(e),{method:"DELETE"})})(e).then((function(){return P()}))}),[]),z=Object(o.useCallback)((function(){c.length>0&&c.forEach((function(e){e.completed&&q(e.id)}))}),[c]);return Object(n.jsxs)("section",{className:"todoapp",children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("h1",{children:"My todos"}),Object(n.jsx)(s,{userId:B,onCreateTodo:W})]}),Object(n.jsx)("section",{className:"main",children:Object(n.jsx)(u,{items:L,removeTodo:q,changeTodo:K,changeAllCompleted:H,checkedAllCompleted:k})}),c[0]&&Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)(j,{removeCompleted:z,countUncompleted:w,filterActive:I,filterCompleted:J,filterAll:M,hiddenBtnDeleteCompleted:S})})]})};r.a.render(Object(n.jsx)(f,{}),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.ccae22a4.chunk.js.map