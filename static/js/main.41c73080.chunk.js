(this["webpackJsonpreact-starter-pack"]=this["webpackJsonpreact-starter-pack"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(1),a=c.n(o),l=c(4),r=c.n(l),s=(c(10),c(11),c(12),c(2)),i=a.a.memo((function(e){var t=e.onCreateTodo,c=Object(o.useState)(""),a=Object(s.a)(c,2),l=a[0],r=a[1];return Object(n.jsx)("form",{action:"#",onSubmit:function(e){e.preventDefault(),l&&t(l),r("")},children:Object(n.jsx)("input",{type:"text",className:"new-todo","data-cy":"createTodo",placeholder:"What needs to be done?",value:l,onChange:function(e){r(e.target.value)}})})})),u=a.a.memo((function(e){var t=e.todo,c=e.changeTodo,a=e.removeTodo,l=Object(o.useState)(t.completed),r=Object(s.a)(l,2),i=r[0],u=r[1],d=Object(o.useState)(!1),j=Object(s.a)(d,2),b=j[0],f=j[1],m=Object(o.useState)(t.title),h=Object(s.a)(m,2),O=h[0],p=h[1];return Object(o.useEffect)((function(){return u(t.completed)}),[t.completed]),Object(n.jsx)("li",{className:"".concat(i&&"completed"," ").concat(b&&"editing"),children:b?Object(n.jsx)("input",{type:"text",className:"edit",id:"editTodo",value:O,onChange:function(e){p(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(e.target.value?(c(t.id,{title:O}),f(!1)):a(t.id)),"Escape"===e.key&&(e.preventDefault(),f(!1))},onBlur:function(e){e.target.value?(c(t.id,{title:O}),f(!1)):a(t.id)}}):Object(n.jsxs)("div",{onDoubleClick:function(){return f(!0)},children:[Object(n.jsx)("input",{type:"checkbox",checked:t.completed,className:"toggle",id:t.id,onClick:function(e){u(e.target.checked),c(t.id,{completed:e.target.checked})}}),Object(n.jsx)("label",{children:t.title}),Object(n.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return a(t.id)}})]})})})),d=a.a.memo((function(e){var t=e.items,c=e.changeAllCompleted,o=e.changeTodo,l=e.removeTodo,r=e.checkedAllCompleted;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:r,onClick:function(e){c(e.target.checked)}}),Object(n.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(n.jsx)("ul",{"data-cy":"todoList",className:"todo-list",children:t.map((function(e){return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(u,{todo:e,removeTodo:l,changeTodo:o})},e.id)}))})]})})),j=function(e){var t=e.removeCompleted,c=e.hiddenBtnDeleteCompleted,a=e.countUncompleted,l=e.filterActive,r=e.filterCompleted,i=e.filterAll,u=Object(o.useState)("all"),d=Object(s.a)(u,2),j=d[0],b=d[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(a," items left")}),Object(n.jsxs)("ul",{className:"filters",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/",className:"".concat("all"===j&&"selected"),onClick:function(e){e.preventDefault(),b("all"),i()},children:"All"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/active",className:"".concat("active"===j&&"selected"),onClick:function(e){e.preventDefault(),b("active"),l()},children:"Active"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#/completed",className:"".concat("completed"===j&&"selected"),onClick:function(e){e.preventDefault(),b("completed"),r()},children:"Completed"})})]}),c&&Object(n.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return t()},children:"Clear completed"})]})},b=function(e,t){return fetch("https://mate.academy/students-api".concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status,"-").concat(e.statusText));return e.json()}))};var f=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],l=Object(o.useState)(""),r=Object(s.a)(l,2),u=r[0],f=r[1],m=Object(o.useState)(!1),h=Object(s.a)(m,2),O=h[0],p=h[1],x=Object(o.useState)(!1),v=Object(s.a)(x,2),C=v[0],g=v[1],k=Object(o.useState)(!1),y=Object(s.a)(k,2),N=y[0],T=y[1],S=Object(o.useState)(!1),A=Object(s.a)(S,2),E=A[0],D=A[1],w=Object(o.useState)(0),F=Object(s.a)(w,2),U=F[0],B=F[1],I=Object(o.useState)(3860),J=Object(s.a)(I,1)[0];Object(o.useEffect)((function(){var e;(e=J,b("/users/".concat(e))).then((function(e){return f(e.name.split(" ")[0])})),K()}),[]),Object(o.useEffect)((function(){T(c.every((function(e){return e.completed}))),D(c.some((function(e){return e.completed}))),B(c.reduce((function(e,t){var c=e;return t.completed?c:c+=1}),0))}),[c]);var L=Object(o.useCallback)((function(){p(!0),g(!1)})),M=Object(o.useCallback)((function(){p(!1),g(!0)})),P=Object(o.useCallback)((function(){p(!1),g(!1)})),H=Object(o.useMemo)((function(){switch(!0){case O:return c.filter((function(e){return!e.completed}));case C:return c.filter((function(e){return e.completed}));default:return c}}),[O,C,c]),K=Object(o.useCallback)((function(){var e;(e=J,b("/todos?userId=".concat(e))).then((function(e){a(e)}))}),[]),W=Object(o.useCallback)((function(e){c.length>0&&c.forEach((function(t){q(t.id,{completed:e})}))}),[c]),q=Object(o.useCallback)((function(e,t){var c,n;(c=e,n=t,b("/todos/".concat(c),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).then((function(){return K()}))}),[]),z=Object(o.useCallback)((function(e){(function(e,t){return b("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:e,userId:t,completed:!1})})})(e,J).then((function(){return K()}))}),[]),G=Object(o.useCallback)((function(e){(function(e){return b("/todos/".concat(e),{method:"DELETE"})})(e).then((function(){return K()}))}),[]),Q=Object(o.useCallback)((function(){c.length>0&&c.forEach((function(e){e.completed&&G(e.id)}))}),[c]);return Object(n.jsxs)("section",{className:"todoapp",children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("h1",{children:"".concat(u,"'s todos")}),Object(n.jsx)(i,{userId:J,onCreateTodo:z})]}),Object(n.jsx)("section",{className:"main",children:Object(n.jsx)(d,{items:H,removeTodo:G,changeTodo:q,changeAllCompleted:W,checkedAllCompleted:N})}),c[0]&&Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)(j,{removeCompleted:Q,countUncompleted:U,filterActive:L,filterCompleted:M,filterAll:P,hiddenBtnDeleteCompleted:E})})]})};r.a.render(Object(n.jsx)(f,{}),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.41c73080.chunk.js.map